# Goè¯­è¨€ASTä»£ç æå–å·¥å…·

è¿™æ˜¯ä¸€ä¸ªåŸºäºGo AST (Abstract Syntax Tree)çš„ä»£ç æå–å·¥å…·ï¼Œèƒ½å¤Ÿä»GitHubä»“åº“ä¸­ç²¾ç¡®æå–Goè¯­è¨€å‡½æ•°ä»£ç åŠå…¶å®Œæ•´ä¸Šä¸‹æ–‡ã€‚

## ğŸš€ æ–°ç‰ˆæœ¬ç‰¹æ€§

### åŸºäºASTçš„ç²¾ç¡®è§£æ
- ä½¿ç”¨Goå®˜æ–¹ASTåŒ…è¿›è¡Œè¯­æ³•åˆ†æï¼Œ100%å‡†ç¡®è§£æ
- æ”¯æŒæ‰€æœ‰Goè¯­æ³•ç‰¹æ€§ï¼ˆæ³›å‹ã€æ–¹æ³•æ¥æ”¶å™¨ã€å¤šè¿”å›å€¼ç­‰ï¼‰
- è‡ªåŠ¨å¤„ç†åµŒå¥—å‡½æ•°å’Œå¤æ‚ç±»å‹å®šä¹‰

### å®Œæ•´ç±»å‹ä¸Šä¸‹æ–‡
- **ç±»å‹å®šä¹‰æå–**ï¼šè‡ªåŠ¨æå–æ¥æ”¶å™¨ã€å‚æ•°ã€è¿”å›å€¼çš„å®Œæ•´ç±»å‹å®šä¹‰
- **æˆå‘˜å‡½æ•°è¯†åˆ«**ï¼šæ˜¾ç¤ºç±»å‹çš„æ‰€æœ‰æˆå‘˜å‡½æ•°åˆ—è¡¨
- **æ™ºèƒ½ä¸Šä¸‹æ–‡å…³è”**ï¼šæä¾›å‰å5ä¸ªç›¸å…³å‡½æ•°çš„å®Œæ•´å®ç°

### è‡ªåŠ¨ç¼–è¯‘æœºåˆ¶
- è¿è¡Œæ—¶è‡ªåŠ¨ç¼–è¯‘Goè§£æå™¨ï¼Œæ”¯æŒè·¨å¹³å°
- æ™ºèƒ½ç¼–è¯‘ç¼“å­˜ï¼Œæé«˜æ‰§è¡Œæ•ˆç‡

## åŠŸèƒ½ç‰¹ç‚¹

1. **GitHubä»“åº“ä¸‹è½½**ï¼šè‡ªåŠ¨ä¸‹è½½å’Œè§£å‹GitHubä»“åº“
2. **ASTç²¾ç¡®è§£æ**ï¼šä½¿ç”¨Goå®˜æ–¹è¯­æ³•åˆ†æå™¨ï¼Œç¡®ä¿100%å‡†ç¡®æ€§
3. **å®Œæ•´ç±»å‹ä¿¡æ¯**ï¼šæå–ç±»å‹å®šä¹‰å’Œæˆå‘˜å‡½æ•°ä¿¡æ¯
4. **ä¸Šä¸‹æ–‡æå–**ï¼šæä¾›å‰å5ä¸ªç›¸å…³å‡½æ•°çš„å®Œæ•´å®ç°
5. **æ™ºèƒ½è¿‡æ»¤**ï¼šè‡ªåŠ¨æ’é™¤æµ‹è¯•æ–‡ä»¶å’Œæµ‹è¯•å‡½æ•°
6. **æ‰¹é‡è¾“å‡º**ï¼šæ¯ä¸ªå‡½æ•°ä¿å­˜ä¸ºç»“æ„åŒ–çš„jsonæ–‡ä»¶

## ä½¿ç”¨æ–¹æ³•

### ç¯å¢ƒè¦æ±‚
1. **Python 3.6+** å’Œå¿…è¦çš„Pythonåº“ï¼š
   ```bash
   pip install requests
   ```

2. **Go 1.18+** ç”¨äºç¼–è¯‘ASTè§£æå™¨ï¼ˆä¼šè‡ªåŠ¨æ£€æµ‹å’Œç¼–è¯‘ï¼‰

### å¿«é€Ÿå¼€å§‹

1. **å‡†å¤‡ä»“åº“åˆ—è¡¨æ–‡ä»¶** (`repos.txt`)ï¼š
   ```text
   # æ”¯æŒå¤šä¸ªGitHubä»“åº“
   gin-gonic/gin
   kubernetes/kubernetes
   # æ·»åŠ æ›´å¤šä»“åº“...
   ```

2. **è¿è¡Œæå–å·¥å…·**ï¼š
   ```bash
   python main.py
   ```

3. **æŸ¥çœ‹ç»“æœ**ï¼šæå–çš„å‡½æ•°å°†ä¿å­˜åœ¨ `extracted_functions_ast/` ç›®å½•ä¸­

### è¾“å‡ºç›®å½•ç»“æ„
```
extracted_functions_ast/
â””â”€â”€ ä»“åº“å_ä»“åº“å/
    â”œâ”€â”€ æ–‡ä»¶å_func_1.json
    â”œâ”€â”€ æ–‡ä»¶å_func_2.json
    â””â”€â”€ ...
```

## è¾“å‡ºæ ¼å¼è¯´æ˜

æ¯ä¸ªå‡½æ•°æ–‡ä»¶åŒ…å«å®Œæ•´çš„ç»“æ„åŒ–ä¿¡æ¯ï¼Œä½¿ç”¨JSONæ ¼å¼ï¼š

```json
{
    "package_path": "github.com/owner/repo/path/file.go",
    "code_rep": "github.com/owner/repo/",
    "import_package": ["fmt", "strings", "time"],
    "receiver": "type Context struct {\n    Field1 string\n    Field2 int\n}",
    "methods": ["Method1", "Method2"],
    "params": "param string",
    "returns": "(int, error)",
    "before_funcs": [
        "func previousFunc() {\n    // å®Œæ•´å‡½æ•°å®ç°\n}"
    ],
    "after_funcs": [
        "func nextFunc() {\n    // å®Œæ•´å‡½æ•°å®ç°\n}"
    ],
    "prompt": "func MyFunction(param string) (int, error)",
    "output": "// å½“å‰å‡½æ•°çš„å®Œæ•´å®ç°\nfunc MyFunction(param string) (int, error) {\n    // å‡½æ•°ä½“ä»£ç \n}"
}
```

## ğŸ¯ æ ¸å¿ƒä¼˜åŠ¿

### ç›¸æ¯”æ­£åˆ™è¡¨è¾¾å¼ç‰ˆæœ¬çš„æ”¹è¿›ï¼š
1. **100%å‡†ç¡®æ€§**ï¼šåŸºäºASTè¯­æ³•åˆ†æï¼Œä¸ä¼šé—æ¼æˆ–è¯¯è§£æ
2. **å®Œæ•´ç±»å‹ä¿¡æ¯**ï¼šè‡ªåŠ¨å…³è”ç±»å‹å®šä¹‰å’Œæˆå‘˜å‡½æ•°
3. **æ›´å¥½çš„ä¸Šä¸‹æ–‡**ï¼šå‰åå‡½æ•°æä¾›å®Œæ•´çš„å®ç°ä»£ç 
4. **è‡ªåŠ¨ä¾èµ–ç®¡ç†**ï¼šè¿è¡Œæ—¶è‡ªåŠ¨ç¼–è¯‘ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®

### ç¤ºä¾‹è¾“å‡º
```json
{
    "package_path": "github.com/gin-gonic/gin/context.go",
    "code_rep": "github.com/gin-gonic/gin/",
    "import_package": ["errors", "fmt", "net/http"],
    "receiver": "type Context struct {\n    writermem responseWriter\n    Request   *http.Request\n    Writer    ResponseWriter\n}",
    "methods": ["reset", "Copy", "HandlerName", "HandlerNames"],
    "params": "param string",
    "returns": "(int, error)",
    "before_funcs": [
        "func previousFunc() {\n    // å®Œæ•´å‡½æ•°å®ç°\n}"
    ],
    "after_funcs": [
        "func nextFunc() {\n    // å®Œæ•´å‡½æ•°å®ç°\n}"
    ],
    "prompt": "func Next() (*http.Request, ResponseWriter)",
    "output": "func (c *Context) Next() {\n    c.index++\n    for c.index < len(c.handlers) {\n        c.handlers[c.index](c)\n        c.index++\n    }\n}"
}
```

## æ³¨æ„äº‹é¡¹

- éœ€è¦ç½‘ç»œè¿æ¥ä¸‹è½½GitHubä»“åº“
- é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨ç¼–è¯‘Goè§£æå™¨ï¼ˆéœ€è¦Goç¯å¢ƒï¼‰
- æ”¯æŒå¤„ç†å¤§å‹ä»£ç åº“ï¼Œè‡ªåŠ¨ä½¿ç”¨ä¸´æ—¶æ–‡ä»¶
- è¾“å‡ºç›®å½•ä¼šè‡ªåŠ¨æ¸…ç©ºï¼Œé¿å…é‡å¤æ–‡ä»¶

## æŠ€æœ¯æ¶æ„

```mermaid
graph TD
    A[Pythonä¸»ç¨‹åº] --> B[ä¸‹è½½GitHubä»“åº“]
    B --> C[ç¼–è¯‘Go ASTè§£æå™¨]
    C --> D[è§£æGoæ–‡ä»¶]
    D --> E[æå–ç±»å‹å’Œå‡½æ•°ä¿¡æ¯]
    E --> F[ç”Ÿæˆç»“æ„åŒ–è¾“å‡º]
    F --> G[ä¿å­˜ç»“æœæ–‡ä»¶]
```